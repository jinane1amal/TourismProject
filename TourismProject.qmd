---
title: "Tourism project"
author: "Lounès AÏT KARROU & Jinane AMAL"
format: html
editor: visual
---

```{r}
#| message: false
library(here)
library(dplyr)
library(tidyr)
library(ggplot2)
library(knitr)
theme_set(theme_bw())
here::i_am("TourismProject.Rproj")
```

# I. Loading the data

```{r}
Arrivals<-read.csv("Datas/arrivals.csv",sep=";")
AvgExpenditures<-read.csv("Datas/avexpinttourists.csv",sep=";")
FoodExpenditures<-read.csv("Datas/foodexp.csv",sep=";")
GDP<-read.csv("Datas/gdppercap.csv",sep=";")
Gini<-read.csv("Datas/gini.csv",sep=";")
Happy<-read.csv("Datas/happinessladder.csv",sep=";")
TerrorDeath<-read.csv("Datas/terrorism-deaths.csv",sep=";")
Forest<-read.csv("Datas/propofprotectedforests.csv",sep=";")
```

# II. Sources and GitHub

You can have access tot the source of our data by clicking on the name of the variable :

-   [Average expenditures by tourist](https://ourworldindata.org/grapher/average-expenditures-of-international-tourists-domestically?tab=table)\
-   [Gross Domestic Product per capita](https://ourworldindata.org/economic-growth#all-charts)
-   [Gini Coefficient](https://ourworldindata.org/grapher/economic-inequality-gini-index)
-   [Number of arrivals](https://data.worldbank.org/indicator/ST.INT.ARVL?end=2020&most_recent_year_desc=false&start=2020&view=bar)
-   [Happiness and life satisfaction](https://ourworldindata.org/happiness-and-life-satisfaction)
-   [Food expenditure](https://ourworldindata.org/grapher/food-expenditure-per-person-per-year?tab=table)
-   [GDP per capita](https://ourworldindata.org/grapher/gdp-per-capita-worldbank?tab=table)
-   [Terrorism death](https://ourworldindata.org/grapher/terrorism-deaths)

Click [here](https://github.com/jinane1amal/DataRproject.git) to access to our GitHub project.

# III. Description of our sources

To get our data, we decide to use two different data banks.

First, we have used is the research publication called "Our World in Data". Founded by the economist Max Roser in 2011, "Our World in Data" is working in collaboration with thousands of researchers all around the world to try to answer and face the hardest problem our world is facing: poverty, diseases, hunger, climate change, war etc.\
"Our World in Data" uses interactive charts and maps to illustrate the work of the researchers. In this website, we found the data for the following topics :

-   The food expenditures per person from 2017 to 2021
-   The self-reported life satisfaction from 2011 to 2022.
-   The income inequalities measured by the Gini coefficient from 1967 to 2021
-   The share of forest area within protected areas from 2000 to 2020
-   The international tourist expenditures within the country they visit from 1995 to 2021
-   The terrorism deaths from 1970 to 2021
-   The GDP per capita from 1990 to 2021

All this data and their variables are going to be explained in the next part. Note that we are not going to keep those periods, we will deal with this issue later, during the data cleaning part.

We also went to the Data world bank to find our principal data set : the number of arrivals. The World Bank Group, established in 1944 along the International Monetary Fund at the Bretton Woods Conference, is one of the world's largest sources of funding and knowledge for developing countries. Its five institutions share a commitment to reducing poverty, increasing shared prosperity, and promoting sustainable development. This group is dividing in 5 institutions:

-   The international bank for reconstruction\
-   The international development association\
-   The international finance corporation\
-   The multilateral investment guarantee agency\
-   The International Centre for Settlement of Investment Disputes.

Even if their main mission is, as they said themselves, to provide a wide array of financial products and technical assistance but also to help countries share, they also produce data that can be find in their site, where there is a whole page dedicated to a whole free collection of data.

# IV. Description of our data

## A) Number of arrivals

### Data set A cleaning task 1 : Focus (2019 VS 2020)

```{r}
Arrivals19vs20 <- Arrivals |>
  select(1:2, 64:65)
```

### Data set A cleaning task 2 : alphabetical order

```{r}
Arrivals19vs20 <- Arrivals19vs20 |>
  arrange(Country.Name)
```

### Data set A cleaning task 3 : Renaming all 4 columns

```{r}
Arrivals19vs20 <- Arrivals19vs20|>
  rename(Country=Country.Name, Code= Country.Code, "2019" = X2019 , "2020" = X2020)
```

### Cleaned Data set A Summary

# Get number of rows and columns

```{r}
nbrows <- nrow(Arrivals19vs20 %>% distinct(Country))
nbcol <- ncol(Arrivals19vs20)
```

The Cleaned Data set A Summary contains `r nbrows` number of columns and `r nbcol` number of rows


<<<<<<< HEAD

=======
```{r}
print(summary(Arrivals19vs20))|>
knitr::kable()
```
>>>>>>> 691925d3e6d4f911657d46601bd0598b97b931e0
# Get number of rows and columns

```{r}
nbrows <- nrow(Arrivals19vs20 %>% distinct(Country))
nbcol <- ncol(Arrivals19vs20)
```

The Cleaned Data set A Summary contains `r nbrows` number of columns and `r nbcol` number of rows.


## B) Average Expenditures

### Data set B cleaning task 1 : Focus (2019 VS 2020)

```{r}

AvgExpenditures19vs20 <- AvgExpenditures|>
  filter(Year %in% c(2019, 2020))
```

### Data set B cleaning task 2 : Pivoting

```{r}
AvgExpenditures19vs20v1 <- AvgExpenditures19vs20|>
   pivot_wider(names_from= Year, values_from=Inbound_Tourism_Expenditure_adjusted)
```

### Data set B cleaning task 3 : Renaming the first column

```{r}
AvgExpenditures19vs20v1 <- AvgExpenditures19vs20v1|>
  rename(Country=Entity)
```

### Cleaned Data set B Summary

```{r}
print(names(AvgExpenditures19vs20v1))
print(dim(AvgExpenditures19vs20v1))
print(summary(AvgExpenditures19vs20v1))
```

## C) Food Expenditures

### Data set C cleaning task 1 : Focus (2019 VS 2020)

```{r}
FoodExpenditures19vs20<- FoodExpenditures |>
  filter(Year %in% c(2019, 2020))
```

### Data set C cleaning task 2: Pivoting

```{r}
FoodExpenditures19vs20v1<- FoodExpenditures19vs20 |>
    pivot_wider(names_from= Year, values_from=Total.food.expenditure)
  
```

### Data set C cleaning task 3 : Renaming the first column

```{r}
FoodExpenditures19vs20v1 <- FoodExpenditures19vs20v1|>
  rename(Country=Entity)
```

### Cleaned Data set C Summary

```{r}
print(names(FoodExpenditures19vs20v1))
print(dim(FoodExpenditures19vs20v1))
print(summary(FoodExpenditures19vs20v1))
```

## D) Forest

### Data set D cleaning task 1 : change 0s into NA

```{r}
Forest <- Forest|>
 mutate_all(~ifelse(. == 0, NA, .))
```

### Data set D cleaning task 2 : Get rid of NA lines

```{r}
Forest <- Forest|>
  filter(!is.na(Code))
```

### Data set D cleaning task 3 : Focus (2019 VS 2020)

```{r}
Forest19vs20 <- Forest |>
  filter(Year %in% c(2019, 2020))
```

### Data set D cleaning task 4 : pivoting

```{r}
Forest19vs20v1 <- Forest19vs20 |>
    pivot_wider(names_from= Year, values_from= Proportionofprotectedforests)
```

### Data set C cleaning task 5 : Renaming the first column

```{r}
Forest19vs20v1 <- Forest19vs20v1|>
  rename(Country=Entity)
```

### Cleaned Data set D Summary

```{r}
print(names(Forest19vs20v1))
print(dim(Forest19vs20v1))
print(summary(Forest19vs20v1))
```

## E) Gross Domestic Product per capita

### Data set E cleaning task 1 : Focus (2019 VS 2020)

```{r}
GDP19vs20 <- GDP |>
  select(1:2, 64:65)
```

### Data set E cleaning task 2 : Renaming all 4 columns

```{r}
GDP19vs20 <- GDP19vs20|>
  rename(Country= Country.Name, Code= Country.Code, "2019" = X2019 , "2020" = X2020)
```

### Cleaned Data set E Summary

```{r}
print(names(GDP19vs20))
print(dim(GDP19vs20))
print(summary(GDP19vs20))
```

## F) GINI Index

### Data set F cleaning task 1 : Focus (2019 VS 2020)

```{r}
Gini19vs20 <- Gini |>
  filter(Year %in% c(2019, 2020))
```

### Data set F cleaning task 2 : Getting rid of the additional lines for urban or rural region for which we already have an average gini coefficient

```{r}
Gini19vs20 <- Gini19vs20|>
  filter(!grepl(" - (rural|urban)$", Entity))
```

### Data set F cleaning task 3 : pivoting

```{r}
Gini19vs20v1 <- Gini19vs20 |>
    pivot_wider(names_from= Year, values_from= Gini.coefficient)
```

### Data set C cleaning task 4 : Renaming the first column

```{r}
Gini19vs20v1 <- Gini19vs20v1|>
  rename(Country=Entity)
```

### Cleaned Data set F Summary

```{r}
print(names(Gini19vs20v1))
print(dim(Gini19vs20v1))
print(summary(Gini19vs20v1))
```

## G) Happiness Ladder

### Data set G cleaning task 1 : Focus (2019 VS 2020)

```{r}
Happy19vs20 <- Happy |>
  filter(Year %in% c(2019, 2020))
```

### Data set G cleaning task 2 : pivoting

```{r}
Happy19vs20v1 <- Happy19vs20 |>
    pivot_wider(names_from= Year, values_from= Cantril.ladder.score)
```

### Data set G cleaning task 3 : Renaming the first column

```{r}
Happy19vs20v1 <- Happy19vs20v1|>
  rename(Country=Entity)
```

### Data set G cleaning task 4 : Switching the order of the last 2 columns representing our focused years of study

```{r}
Happy19vs20v1 <- Happy19vs20v1|>
  select(-"2019", -"2020", "2019", "2020")
```

### Cleaned Data set G Summary

```{r}
print(names(Happy19vs20v1))
print(dim(Happy19vs20v1))
print(summary(Happy19vs20v1))
```

## H) Terrorism Attacks

# V. Description of our Research Question :

## "What makes a country more attractive to tourists ?"
