---
title: "Tourism project"
author: "Lounès AÏT KARROU & Jinane AMAL"
format: html
editor: visual
---

```{r}
#| message: false
library(here)
library(dplyr)
library(tidyr)
library(ggplot2)
library(knitr)
theme_set(theme_bw())
here::i_am("TourismProject.Rproj")
```

# I. Loading the data

```{r}
Arrivals<-read.csv("Datas/arrivals.csv",sep=";")
AvgExpenditures<-read.csv("Datas/avexpinttourists.csv",sep=";")
FoodExpenditures<-read.csv("Datas/foodexp.csv",sep=";")
GDP<-read.csv("Datas/gdppercap.csv",sep=";")
Gini<-read.csv("Datas/gini.csv",sep=";")
Happy<-read.csv("Datas/happinessladder.csv",sep=";")
TerrorDeath<-read.csv("Datas/terrorism-deaths.csv",sep=";")
Forest<-read.csv("Datas/propofprotectedforests.csv",sep=";")
```

# II. Sources and GitHub

You can have access tot the source of our data by clicking on the name of the variable :

-   [Average expenditures by tourist](https://ourworldindata.org/grapher/average-expenditures-of-international-tourists-domestically?tab=table)\
-   [Gross Domestic Product per capita](https://ourworldindata.org/economic-growth#all-charts)
-   [Gini Coefficient](https://ourworldindata.org/grapher/economic-inequality-gini-index)
-   [Number of arrivals](https://data.worldbank.org/indicator/ST.INT.ARVL?end=2020&most_recent_year_desc=false&start=2020&view=bar)
-   [Happiness and life satisfaction](https://ourworldindata.org/happiness-and-life-satisfaction)
-   [Food expenditure](https://ourworldindata.org/grapher/food-expenditure-per-person-per-year?tab=table)
-   [GDP per capita](https://ourworldindata.org/grapher/gdp-per-capita-worldbank?tab=table)
-   [Terrorism death](https://ourworldindata.org/grapher/terrorism-deaths)

Click [here](https://github.com/jinane1amal/DataRproject.git) to access to our GitHub project.

# III. Description of our sources

To get our data, we decide to use two different data banks.

First, we have used is the research publication called "Our World in Data". Founded by the economist Max Roser in 2011, "Our World in Data" is working in collaboration with thousands of researchers all around the world to try to answer and face the hardest problem our world is facing: poverty, diseases, hunger, climate change, war etc.\
"Our World in Data" uses interactive charts and maps to illustrate the work of the researchers. In this website, we found the data for the following topics :

-   The food expenditures per person from 2017 to 2021
-   The self-reported life satisfaction from 2011 to 2022.
-   The income inequalities measured by the Gini coefficient from 1967 to 2021
-   The share of forest area within protected areas from 2000 to 2020
-   The international tourist expenditures within the country they visit from 1995 to 2021
-   The terrorism deaths from 1970 to 2021
-   The GDP per capita from 1990 to 2021

All this data and their variables are going to be explained in the next part. Note that we are not going to keep those periods, we will deal with this issue later, during the data cleaning part.

We also went to the Data world bank to find our principal data set : the number of arrivals. The World Bank Group, established in 1944 along the International Monetary Fund at the Bretton Woods Conference, is one of the world's largest sources of funding and knowledge for developing countries. Its five institutions share a commitment to reducing poverty, increasing shared prosperity, and promoting sustainable development. This group is dividing in 5 institutions:

-   The international bank for reconstruction\
-   The international development association\
-   The international finance corporation\
-   The multilateral investment guarantee agency\
-   The International Centre for Settlement of Investment Disputes.

Even if their main mission is, as they said themselves, to provide a wide array of financial products and technical assistance but also to help countries share, they also produce data that can be find in their site, where there is a whole page dedicated to a whole free collection of data.

# IV. Description of our data

## A) Number of arrivals

### Data set A cleaning task 1 : Focus (2019 VS 2020)

```{r}
Arrivals19vs20 <- Arrivals |>
  select(1:2, 64:65)
```

### Data set A cleaning task 2 : alphabetical order

```{r}
Arrivals19vs20 <- Arrivals19vs20 |>
  arrange(Country.Name)
```

### Data set A cleaning task 3 : Renaming all 4 columns

```{r}
Arrivals19vs20 <- Arrivals19vs20|>
  rename(Country=Country.Name, Code= Country.Code, "2019" = X2019 , "2020" = X2020)
```

### Cleaned Data set A Summary

# Get number of rows and columns

```{r}
nbrows <- nrow(Arrivals19vs20 %>% distinct(Country))
nbcol <- ncol(Arrivals19vs20)
```

The Cleaned Data set A Summary contains `r nbrows` number of columns and `r nbcol` number of rows


<<<<<<< HEAD

=======
```{r}
print(summary(Arrivals19vs20))|>
knitr::kable()
```
>>>>>>> 691925d3e6d4f911657d46601bd0598b97b931e0
# Get number of rows and columns

```{r}
nbrows <- nrow(Arrivals19vs20 %>% distinct(Country))
nbcol <- ncol(Arrivals19vs20)
```

The Cleaned Data set A Summary contains `r nbrows` number of columns and `r nbcol` number of rows.


## B) Average Expenditures

### Data set B cleaning task 1 : Focus (2019 VS 2020)

```{r}

AvgExpenditures19vs20 <- AvgExpenditures|>
  filter(Year %in% c(2019, 2020))
```

### Data set B cleaning task 2 : Pivoting

```{r}
AvgExpenditures19vs20v1 <- AvgExpenditures19vs20|>
   pivot_wider(names_from= Year, values_from=Inbound_Tourism_Expenditure_adjusted)
```

### Data set B cleaning task 3 : Renaming the first column

```{r}
AvgExpenditures19vs20v1 <- AvgExpenditures19vs20v1|>
  rename(Country=Entity)
```

### Cleaned Data set B Summary

```{r}
print(names(AvgExpenditures19vs20v1))
print(dim(AvgExpenditures19vs20v1))
print(summary(AvgExpenditures19vs20v1))
```
```{r}
print(summary(AvgExpenditures19vs20v1))|>
knitr::kable()
```

# Get number of rows and columns

```{r}
nbrows <- nrow(AvgExpenditures19vs20v1 %>% distinct(Country))
nbcol <- ncol(AvgExpenditures19vs20v1)
```

The Cleaned Data set B Summary contains `r nbrows` number of columns and `r nbcol` number of rows.

## C) Food Expenditures

### Data set C cleaning task 1 : Focus (2019 VS 2020)

```{r}
FoodExpenditures19vs20<- FoodExpenditures |>
  filter(Year %in% c(2019, 2020))
```

### Data set C cleaning task 2: Pivoting

```{r}
FoodExpenditures19vs20v1<- FoodExpenditures19vs20 |>
    pivot_wider(names_from= Year, values_from=Total.food.expenditure)
  
```

### Data set C cleaning task 3 : Renaming the first column

```{r}
FoodExpenditures19vs20v1 <- FoodExpenditures19vs20v1|>
  rename(Country=Entity)
```

### Cleaned Data set C Summary

```{r}
print(names(FoodExpenditures19vs20v1))
print(dim(FoodExpenditures19vs20v1))
print(summary(FoodExpenditures19vs20v1))
```
```{r}
print(summary(FoodExpenditures19vs20v1))|>
knitr::kable()
```

# Get number of rows and columns

```{r}
nbrows <- nrow(FoodExpenditures19vs20v1 %>% distinct(Country))
nbcol <- ncol(FoodExpenditures19vs20v1)
```

The Cleaned Data set C Summary contains `r nbrows` number of columns and `r nbcol` number of rows.

## D) Forest

### Data set D cleaning task 1 : change 0s into NA

```{r}
Forest <- Forest|>
 mutate_all(~ifelse(. == 0, NA, .))
```

### Data set D cleaning task 2 : Get rid of NA lines

```{r}
Forest <- Forest|>
  filter(!is.na(Code))
```

### Data set D cleaning task 3 : Focus (2019 VS 2020)

```{r}
Forest19vs20 <- Forest |>
  filter(Year %in% c(2019, 2020))
```

### Data set D cleaning task 4 : pivoting

```{r}
Forest19vs20v1 <- Forest19vs20 |>
    pivot_wider(names_from= Year, values_from= Proportionofprotectedforests)
```

### Data set D cleaning task 5 : Renaming the first column

```{r}
Forest19vs20v1 <- Forest19vs20v1|>
  rename(Country=Entity)
```

### Cleaned Data set D Summary

```{r}
print(names(Forest19vs20v1))
print(dim(Forest19vs20v1))
print(summary(Forest19vs20v1))
```
```{r}
print(summary(Forest19vs20v1))|>
knitr::kable()
```

# Get number of rows and columns

```{r}
nbrows <- nrow(Forest19vs20v1 %>% distinct(Country))
nbcol <- ncol(Forest19vs20v1)
```

The Cleaned Data set D Summary contains `r nbrows` number of columns and `r nbcol` number of rows.

## E) Gross Domestic Product per capita

### Data set E cleaning task 1 : Focus (2019 VS 2020)

```{r}
GDP19vs20 <- GDP |>
  select(1:2, 64:65)
```

### Data set E cleaning task 2 : Renaming all 4 columns

```{r}
GDP19vs20 <- GDP19vs20|>
  rename(Country= Country.Name, Code= Country.Code, "2019" = X2019 , "2020" = X2020)
```

### Cleaned Data set E Summary

```{r}
print(names(GDP19vs20))
print(dim(GDP19vs20))
print(summary(GDP19vs20))
```
```{r}
print(summary(GDP19vs20))|>
knitr::kable()
```

# Get number of rows and columns

```{r}
nbrows <- nrow(GDP19vs20 %>% distinct(Country))
nbcol <- ncol(GDP19vs20)
```

The Cleaned Data set E Summary contains `r nbrows` number of columns and `r nbcol` number of rows.

## F) GINI Index

### Data set F cleaning task 1 : Focus (2019 VS 2020)

```{r}
Gini19vs20 <- Gini |>
  filter(Year %in% c(2019, 2020))
```

### Data set F cleaning task 2 : Getting rid of the additional lines for urban or rural region for which we already have an average gini coefficient

```{r}
Gini19vs20 <- Gini19vs20|>
  filter(!grepl(" - (rural|urban)$", Entity))
```

### Data set F cleaning task 3 : pivoting

```{r}
Gini19vs20v1 <- Gini19vs20 |>
    pivot_wider(names_from= Year, values_from= Gini.coefficient)
```

### Data set C cleaning task 4 : Renaming the first column

```{r}
Gini19vs20v1 <- Gini19vs20v1|>
  rename(Country=Entity)
```

### Cleaned Data set F Summary

```{r}
print(names(Gini19vs20v1))
print(dim(Gini19vs20v1))
print(summary(Gini19vs20v1))
```
```{r}
print(summary(Gini19vs20v1))|>
knitr::kable()
```

# Get number of rows and columns

```{r}
nbrows <- nrow(Gini19vs20v1 %>% distinct(Country))
nbcol <- ncol(Gini19vs20v1)
```

The Cleaned Data set F Summary contains `r nbrows` number of columns and `r nbcol` number of rows.

## G) Happiness Ladder

### Data set G cleaning task 1 : Focus (2019 VS 2020)

```{r}
Happy19vs20 <- Happy |>
  filter(Year %in% c(2019, 2020))
```

### Data set G cleaning task 2 : pivoting

```{r}
Happy19vs20v1 <- Happy19vs20 |>
    pivot_wider(names_from= Year, values_from= Cantril.ladder.score)
```

### Data set G cleaning task 3 : Renaming the first column

```{r}
Happy19vs20v1 <- Happy19vs20v1|>
  rename(Country=Entity)
```

### Data set G cleaning task 4 : Switching the order of the last 2 columns representing our focused years of study

```{r}
Happy19vs20v1 <- Happy19vs20v1|>
  select(-"2019", -"2020", "2019", "2020")
```

### Cleaned Data set G Summary

```{r}
print(names(Happy19vs20v1))
print(dim(Happy19vs20v1))
print(summary(Happy19vs20v1))
```
```{r}
print(summary(Happy19vs20v1))|>
knitr::kable()
```

# Get number of rows and columns

```{r}
nbrows <- nrow(Happy19vs20v1 %>% distinct(Country))
nbcol <- ncol(Happy19vs20v1)
```

The Cleaned Data set G Summary contains `r nbrows` number of columns and `r nbcol` number of rows.

## H) Terrorism Attacks
### Data set H cleaning task 1 : Focus (2019 VS 2020)

```{r}
TerrorDeath19vs20 <- TerrorDeath |>
  filter(Year %in% c(2019, 2020))
```
### Data set H cleaning task 2 : Get rid 0's into NA

```{r}
TerrorDeath19vs20 <- TerrorDeath19vs20|>
 mutate_all(~ifelse(. == 0, NA, .))
```

### Data set H cleaning task 3 : Get rid of NA lines

```{r}
TerrorDeath19vs20 <- TerrorDeath19vs20|>
  filter(!is.na(Code))
```

### Data set H cleaning task 4 : Since previous command changes the values into NA's we should now revert the NA'S of the last column to 0 (mening no terrorist attack)

```{r}
TerrorDeath19vs20[is.na(TerrorDeath19vs20[, ncol(TerrorDeath19vs20)]), ncol(TerrorDeath19vs20)] <- 0

```
### Data set H cleaning task 5 : Renaming the first column

```{r}
TerrorDeath19vs20 <- TerrorDeath19vs20|>
  rename(Country=Entity)
```

### Data set D cleaning task 6 : pivoting

```{r}
TerrorDeath19vs20v1 <- TerrorDeath19vs20 |>
    pivot_wider(names_from= Year, values_from= Terrorism.deaths)
```

### Cleaned Data set H Summary

```{r}
print(names(TerrorDeath19vs20v1))
print(dim(TerrorDeath19vs20v1))
print(summary(TerrorDeath19vs20v1))
```


```{r}
print(summary(TerrorDeath19vs20v1))|>
knitr::kable()
```


# Get number of rows and columns

```{r}
nbrows <- nrow(TerrorDeath19vs20v1 %>% distinct(Country))
nbcol <- ncol(TerrorDeath19vs20v1)
```

The Cleaned Data set H Summary contains `r nbrows` number of columns and `r nbcol` number of rows.

# V. Description of our Research Question :

## "What makes a country more attractive to tourists ?"

Travel holds profound importance in our lives, extending far beyond the mere act of moving from one place to another.
It serves as a gateway to diverse cultures, broadening our perspectives and fostering a deeper understanding of the world.
The importance of travel lies not only in the personal enrichment it offers but also in the role it plays in showcasing a country's distinctive charm. 
Every nation becomes a storyteller, enticing visitors with its rich history, cultural treasures, and breathtaking landscapes. 
Tourism becomes a bridge between cultures, a means to celebrate diversity and foster global understanding. As we explore different corners of the world, we contribute to a shared narrative of interconnectedness, where each country's unique appeal adds vibrancy to the collective tapestry of global tourism.
Therefore, understanding the factors that make a destination appealing becomes a fascinating research endeavor. 
As we embark on this research trail, the pivotal question arises: "What makes a country more attractive to tourists?" 
This question will focus on a comparison study between 2 years 2019 & 2020 :
2019 which will represent the initial tourism trends before the pandemic and 2020 will show us how the covid pandemic impacted these tourism trends through the evolution of the chosen variables 
This query seeks to unravel the distinct elements that shape a nation's allure, delving into cultural, environmental, infrastructural and economy oriented facets that draw visitors. By exploring this question, we aim to not only enrich our comprehension of travel dynamics but also contribute valuable insights to the ongoing dialogue on global tourism trends.
In evaluating a country's tourism success, we have opted to employ a dual-variable approach, focusing on the number of tourist arrivals and their average expenditure during visits. The number of arrivals serves as a primary indicator, reflecting the appeal and popularity of a destination, while average expenditure provides insights into the economic impact of tourism. To understand the influencing factors, we consider various variables. Gross Domestic Product (GDP) reflects the economic strength of a nation, potentially correlating with tourism appeal. Gini coefficient measures income inequality, influencing the distribution of tourist spending. The Happiness Ladder index gauges the overall well-being of a country's population, potentially affecting its attractiveness to visitors. The proportion of protected forests contribute to environmental considerations, influencing sustainable tourism. We also took the food expenditures as another indicator of the affordability experiencing a country's culinary traditions. Lastly, we chose as another variable the number of terrorist attacks per country reflecting the potential danger tourists will face if they visit a country .

